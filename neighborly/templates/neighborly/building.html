{% extends "base_generic.html" %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'neighborly/style.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&family=Rokkitt:wght@100&display=swap" rel="stylesheet">

{% block content %}
    <h2 class='home-header'>{{ building.address }}</h2>
    <div class='post-container'>
            {% for post in post_list %}
            <div class='single-post-container'>
            <a href="/post/{{ post.id }}/">Post</a> by {{ post.user }}: {{ post.body }} ({{post.pub_date}})
            <a href="/post/edit/{{ post.id }}/">Edit</a>
            <a href="/post/delete/{{ post.id }}/">Delete</a>
            </div>
                {% for reply in post.reply_set.all %}
                <div class='d-flex justify-content-center'>
                    <p>Reply by {{ reply.user }}: {{ reply.body }} ({{ reply.pub_date }})</p>
                    {% if user == reply.user %}
                    <a href="/reply/edit/{{ reply.id }}/">Edit</a>
                    <a href="/reply/delete/{{ reply.id }}/">Delete</a>
                    {% endif %}
                </div>
                {% endfor %}
            {% endfor %}
    </div>
    <div class='add-comment-container'>
    <form action='' method='POST'>
        {% csrf_token %}
        {{ form }}
        <br />
        <button type="submit">submit</button>
    </form>
    </div>
{% endblock %}